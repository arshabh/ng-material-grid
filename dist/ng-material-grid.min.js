(function () {
  angular.module("ng-material-grid", ['ngSanitize']).
      directive("ngMaterialGrid", function () {
    return {
      restrict: 'EA',
      scope: {
        config: '=',
        data: '='
      },
      templateUrl: 'ng-material-grid.html',
      link: function (scope, element, attrs) {
        scope.theme = "md-" + (scope.config.theme || 'primary');

        scope.gridViewActive = scope.config.gridView;

        scope.rows = [];
        _.each(scope.data, function (datum) {
          var rowData = [];
          _.each(scope.config.columnDefs, function (def) {
            var fieldVal = _.get(datum, def.field);
            def.val = def.cellValue ? def.cellValue(fieldVal, datum) : fieldVal;
            rowData.push(def);
          });
          scope.rows.push(rowData);
        });

        scope.showGridView = function (bool) {
          scope.gridViewActive = bool;
        }

      }
    }
  })
})();
angular.module("ng-material-grid").run(["$templateCache", function($templateCache) {$templateCache.put("ng-material-grid.html","<md-content flex=\"\" layout=\"column\" class=\"ng-material-grid\"><md-content class=\"ng-material-grid-header-wrapper\" ng-if=\"!gridViewActive\"><md-toolbar class=\"{{theme}} ng-material-grid-header\" flex=\"\"><div flex=\"\" layout=\"\"><span flex=\"5\" layout=\"\" layout-align=\"center center\"><md-checkbox></md-checkbox></span> <span flex=\"{{def.width}}\" ng-repeat=\"def in config.columnDefs\" layout=\"\" class=\"layout-align-{{def.align}}-center ng-material-grid-cell {{def.headerClass}}\">{{def.headerText}}</span></div></md-toolbar></md-content><md-content flex=\"\" class=\"ng-material-grid-body\" layout=\"column\" ng-if=\"!gridViewActive\"><div ng-repeat-start=\"row in rows\" layout=\"\" class=\"ng-material-grid-row\"><span flex=\"5\" layout=\"\" layout-align=\"center center\"><md-checkbox></md-checkbox></span> <span flex=\"{{cell.width}}\" ng-repeat=\"cell in row\" layout=\"\"><span ng-switch=\"\" on=\"cell.cellFormat\" flex=\"\" layout=\"\" class=\"layout-align-{{cell.align}}-center ng-material-grid-cell\"><span ng-switch-when=\"html\" ng-bind-html=\"cell.val\" class=\"{{cell.cellClass}}\"></span> <span ng-switch-default=\"\" class=\"{{cell.cellClass}}\">{{cell.val}}</span></span></span></div><md-divider ng-repeat-end=\"\"></md-divider></md-content><md-content flex=\"\" ng-if=\"gridViewActive\" layout-padding=\"\"><md-grid-list md-cols=\"5\" md-gutter=\"1em\" md-row-height=\"3:2\" flex=\"\"><md-grid-tile ng-repeat=\"row in rows\" class=\"ng-material-grid-grid-tile\" md-whiteframe=\"1\"><span ng-repeat=\"cell in row\"><span ng-switch=\"\" on=\"cell.cellFormat\" flex=\"\" layout=\"\" class=\"layout-align-{{cell.align}}-center ng-material-grid-cell\"><span ng-switch-when=\"html\" ng-bind-html=\"cell.val\" class=\"{{cell.cellClass}}\"></span> <span ng-switch-default=\"\" class=\"{{cell.cellClass}}\">{{cell.val}}</span></span></span></md-grid-tile></md-grid-list></md-content><md-content ng-if=\"config.footer\" class=\"ng-material-grid-footer-wrapper\"><md-toolbar class=\"{{theme}} md-hue-1 ng-material-grid-footer\" layout=\"\"><div flex=\"\"></div><div flex=\"\" layout=\"\" layout-align=\"end center\"><md-button class=\"md-icon-button\" ng-click=\"showGridView(!gridViewActive)\"><md-icon class=\"material-icons\" ng-show=\"!gridViewActive\">grid_on</md-icon><md-icon class=\"material-icons\" ng-show=\"gridViewActive\">grid_off</md-icon></md-button></div></md-toolbar></md-content></md-content>");}]);